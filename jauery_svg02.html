<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
  	<meta http-equiv="X-UA-Compatible" content="IE=edge">
  	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<title>SVG</title>
<style type="text/css">
body{
	font-size: 1.4em;
}
svg {
	max-width: 600px;
}
#stroke {
	stroke-dasharray:1646 1646;
}
#strokeSecond {
	stroke-dasharray:1646 1646;
}
</style>
</head>
<body>
<div class="wrapper">
	<h1 class="title">SVG</h1>
	<section class="l-section">
		<div class="svg-wrap">
					<svg viewBox="0 0 600 300">
									<defs>
											<clipPath id="outline">
													<path d="M40.176,109.066c0,0-15.272,50.171-10.989,51.648
													c19.118,6.594,50.549-40.659,50.549-40.659s-8.217,67.067,18.969,52.215s18.708-59.314,19.101-70.6"/>
												<path d="M140.473,143.034c0.188-0.047,0.397-0.126,0.616-0.221"/>
												<path d="M141.089,142.813c9.228-3.98,44.64-49.116,28.814-47.943
													C159.043,95.675,144.435,122.584,141.089,142.813"/>
												<path d="M286.302,98.671c-47.821,113.877-61.769,104.319-75.968,30.658"/>
												<path d="M210.334,129.329c18.943-24.037,35.521-61.899,39.568-118.759
													c1.169-16.421-57.586,17.078-42.299,103.892C208.521,119.671,209.428,124.627,210.334,129.329"/>
												<path d="M141.089,142.813c-1.645,9.947-0.569,18.28,5.017,21.1
													c9.671,4.882,39.042-2.624,64.229-34.584"/>
												<path d="M313.402,120.671c9.8-17-22.649-57.729-30.225-8.215
													s10.373,84.483,61.861,24.114"/>
												<path d="M346.202,149.432c8.062,32.967,32.514,25.639,38.406-8.861
													s-11.663-35.095-11.663-35.095S338.14,116.465,346.202,149.432z"/>
												<path d="M415.188,98.87l-16.484,60.254c0,0,40.407-68.053,48.352-56.453
													s-1.257,53.207,6.594,56.453s30.058-62.353,46.154-56.453s1.561,71.747,10.989,74.6c9.887,2.991,32.968-13.892,43.957-34.7"/>
												<path d="M549.473,161.034c0.188-0.047,0.397-0.126,0.616-0.221"/>
												<path d="M550.089,160.813c9.228-3.98,44.64-49.116,28.814-47.943
													C568.043,113.675,553.436,140.584,550.089,160.813"/>
												<path d="M550.089,160.813c-1.646,9.947-0.569,18.28,5.017,21.1
													c16.945,8.554,27.016-5.901,45.038-27.042"/>
												<path d="M78.436,45.875c5.415,0,10.754,0.625,16.016,1.875c5.259,1.25,10.286,3.101,15.078,5.547
		c4.79,2.449,9.036,5.703,12.734,9.766c3.696,4.062,5.703,8.906,6.016,14.531v6.562v58.594h-21.094V82.438
		c-0.21-3.228-1.433-5.911-3.672-8.047c-2.241-2.134-4.741-3.828-7.5-5.078c-2.761-1.25-5.625-2.188-8.594-2.812
		s-5.964-0.938-8.984-0.938c-3.022,0-6.016,0.312-8.984,0.938s-5.835,1.562-8.594,2.812c-2.761,1.25-5.261,2.944-7.5,5.078
		c-2.241,2.136-3.464,4.819-3.672,8.047v60.312H28.748V84.157v-6.562c0.312-5.625,2.29-10.469,5.938-14.531
		c3.645-4.062,7.864-7.317,12.656-9.766c4.79-2.446,9.817-4.297,15.078-5.547C67.679,46.5,73.018,45.875,78.436,45.875z"/>
	<path d="M197.967,45.875c5.415,0,10.754,0.625,16.016,1.875c5.259,1.25,10.286,3.101,15.078,5.547
		c4.79,2.449,9.036,5.703,12.734,9.766c3.696,4.062,5.703,8.906,6.016,14.531v6.562v58.594h-21.094V82.438
		c-0.21-3.228-1.433-5.911-3.672-8.047c-2.241-2.134-4.741-3.828-7.5-5.078c-2.761-1.25-5.625-2.188-8.594-2.812
		s-5.964-0.938-8.984-0.938c-3.022,0-6.016,0.312-8.984,0.938s-5.835,1.562-8.594,2.812c-2.761,1.25-5.261,2.944-7.5,5.078
		c-2.241,2.136-3.464,4.819-3.672,8.047v60.312h-20.938V84.157v-6.562c0.312-5.625,2.29-10.469,5.938-14.531
		c3.645-4.062,7.864-7.317,12.656-9.766c4.79-2.446,9.817-4.297,15.078-5.547C187.21,46.5,192.549,45.875,197.967,45.875z"/>
	<path d="M317.498,45.875c5.415,0,10.754,0.625,16.016,1.875c5.259,1.25,10.286,3.101,15.078,5.547
		c4.79,2.449,9.036,5.703,12.734,9.766c3.696,4.062,5.703,8.906,6.016,14.531v6.562v58.594h-21.094V82.438
		c-0.21-3.228-1.433-5.911-3.672-8.047c-2.241-2.134-4.741-3.828-7.5-5.078c-2.761-1.25-5.625-2.188-8.594-2.812
		s-5.964-0.938-8.984-0.938c-3.022,0-6.016,0.312-8.984,0.938s-5.835,1.562-8.594,2.812c-2.761,1.25-5.261,2.944-7.5,5.078
		c-2.241,2.136-3.464,4.819-3.672,8.047v60.312h-20.938V84.157v-6.562c0.312-5.625,2.29-10.469,5.938-14.531
		c3.645-4.062,7.864-7.317,12.656-9.766c4.79-2.446,9.817-4.297,15.078-5.547C306.741,46.5,312.081,45.875,317.498,45.875z"/>
											</clipPath>
									</defs>
										<g id="stroke" fill="none" stroke-linecap="round" stroke="#333333" stroke-width="10"   clip-path="url(#outline)" >
												<path d="M40.176,109.066c0,0-15.272,50.171-10.989,51.648
												c19.118,6.594,50.549-40.659,50.549-40.659s-8.217,67.067,18.969,52.215s18.708-59.314,19.101-70.6"/>
											<path d="M140.473,143.034c0.188-0.047,0.397-0.126,0.616-0.221"/>
											<path d="M141.089,142.813c9.228-3.98,44.64-49.116,28.814-47.943
												C159.043,95.675,144.435,122.584,141.089,142.813"/>
											<path d="M286.302,98.671c-47.821,113.877-61.769,104.319-75.968,30.658"/>
											<path d="M210.334,129.329c18.943-24.037,35.521-61.899,39.568-118.759
												c1.169-16.421-57.586,17.078-42.299,103.892C208.521,119.671,209.428,124.627,210.334,129.329"/>
											<path d="M141.089,142.813c-1.645,9.947-0.569,18.28,5.017,21.1
												c9.671,4.882,39.042-2.624,64.229-34.584"/>
											<path d="M313.402,120.671c9.8-17-22.649-57.729-30.225-8.215
												s10.373,84.483,61.861,24.114"/>
											<path d="M346.202,149.432c8.062,32.967,32.514,25.639,38.406-8.861
												s-11.663-35.095-11.663-35.095S338.14,116.465,346.202,149.432z"/>
											<path d="M415.188,98.87l-16.484,60.254c0,0,40.407-68.053,48.352-56.453
												s-1.257,53.207,6.594,56.453s30.058-62.353,46.154-56.453s1.561,71.747,10.989,74.6c9.887,2.991,32.968-13.892,43.957-34.7"/>
											<path d="M549.473,161.034c0.188-0.047,0.397-0.126,0.616-0.221"/>
											<path d="M550.089,160.813c9.228-3.98,44.64-49.116,28.814-47.943
												C568.043,113.675,553.436,140.584,550.089,160.813"/>
											<path d="M550.089,160.813c-1.646,9.947-0.569,18.28,5.017,21.1
												c16.945,8.554,27.016-5.901,45.038-27.042"/>
										</g>
										<g id="strokeSecond" fill="none" stroke-linecap="round" stroke="#333333" stroke-width="10"   clip-path="url(#outline)" >
	<path d="M78.436,45.875c5.415,0,10.754,0.625,16.016,1.875c5.259,1.25,10.286,3.101,15.078,5.547
		c4.79,2.449,9.036,5.703,12.734,9.766c3.696,4.062,5.703,8.906,6.016,14.531v6.562v58.594h-21.094V82.438
		c-0.21-3.228-1.433-5.911-3.672-8.047c-2.241-2.134-4.741-3.828-7.5-5.078c-2.761-1.25-5.625-2.188-8.594-2.812
		s-5.964-0.938-8.984-0.938c-3.022,0-6.016,0.312-8.984,0.938s-5.835,1.562-8.594,2.812c-2.761,1.25-5.261,2.944-7.5,5.078
		c-2.241,2.136-3.464,4.819-3.672,8.047v60.312H28.748V84.157v-6.562c0.312-5.625,2.29-10.469,5.938-14.531
		c3.645-4.062,7.864-7.317,12.656-9.766c4.79-2.446,9.817-4.297,15.078-5.547C67.679,46.5,73.018,45.875,78.436,45.875z"/>
	<path d="M197.967,45.875c5.415,0,10.754,0.625,16.016,1.875c5.259,1.25,10.286,3.101,15.078,5.547
		c4.79,2.449,9.036,5.703,12.734,9.766c3.696,4.062,5.703,8.906,6.016,14.531v6.562v58.594h-21.094V82.438
		c-0.21-3.228-1.433-5.911-3.672-8.047c-2.241-2.134-4.741-3.828-7.5-5.078c-2.761-1.25-5.625-2.188-8.594-2.812
		s-5.964-0.938-8.984-0.938c-3.022,0-6.016,0.312-8.984,0.938s-5.835,1.562-8.594,2.812c-2.761,1.25-5.261,2.944-7.5,5.078
		c-2.241,2.136-3.464,4.819-3.672,8.047v60.312h-20.938V84.157v-6.562c0.312-5.625,2.29-10.469,5.938-14.531
		c3.645-4.062,7.864-7.317,12.656-9.766c4.79-2.446,9.817-4.297,15.078-5.547C187.21,46.5,192.549,45.875,197.967,45.875z"/>
	<path d="M317.498,45.875c5.415,0,10.754,0.625,16.016,1.875c5.259,1.25,10.286,3.101,15.078,5.547
		c4.79,2.449,9.036,5.703,12.734,9.766c3.696,4.062,5.703,8.906,6.016,14.531v6.562v58.594h-21.094V82.438
		c-0.21-3.228-1.433-5.911-3.672-8.047c-2.241-2.134-4.741-3.828-7.5-5.078c-2.761-1.25-5.625-2.188-8.594-2.812
		s-5.964-0.938-8.984-0.938c-3.022,0-6.016,0.312-8.984,0.938s-5.835,1.562-8.594,2.812c-2.761,1.25-5.261,2.944-7.5,5.078
		c-2.241,2.136-3.464,4.819-3.672,8.047v60.312h-20.938V84.157v-6.562c0.312-5.625,2.29-10.469,5.938-14.531
		c3.645-4.062,7.864-7.317,12.656-9.766c4.79-2.446,9.817-4.297,15.078-5.547C306.741,46.5,312.081,45.875,317.498,45.875z"/>
										</g>
  			</svg>
		</div>
	</section>
</div>

<script src="js/jquery-2.2.4.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
$(function(){

	var id01 = "stroke";
	var id02 = "strokeSecond";

	textSvg(id01);

	setTimeout(function(){ textSvg(id02)
		.then(function(){
	console.log('nu--nn');
		}, function(){
erro();
	});
		; }, 1000);

function textSvg(id){

				var def = $.Deferred();

					var path = $('#'+ id),
					    path_length = 4000,
					    frame_rate = 60,
					    stroke_per_frame = path_length / frame_rate;

				var stroke_length = path_length;

					function stkl(){
						stroke_length = stroke_length - stroke_per_frame;
						path.attr('stroke-dashoffset', stroke_length);

					if(stroke_length <= 0){
					path.attr('stroke-dashoffset', 0);
					clearInterval(settimer);
						}
					}
				var settimer = setInterval( function(){
				stkl();
				def.resolve();

				}, (2000 / frame_rate));
return def.promise();
		}

});

function erro(){
var def = new $.Deferred;
	console.log('error');
return def.promise();
}

</script>
</body>
</html>